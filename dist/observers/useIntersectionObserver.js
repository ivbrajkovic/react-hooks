"use strict";var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++)for(var s in r=arguments[t],r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s]);return e},__assign.apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0});var react_1=require("react"),defaultOptions={root:null,rootMargin:"-150px 0px -150px 0px",thresholds:[0]},handleIntersect=function(e){return function(r){r.forEach((function(r){return e&&e(r)}))}},createObserver=function(e,r,t){var n=new IntersectionObserver(handleIntersect(t),r);return e.forEach((function(e){return n.observe(e)})),n};function useIntersectionObserver(e,r,t){void 0===e&&(e=[]);var n="function"===typeof r?defaultOptions:__assign(__assign({},defaultOptions),r),s=react_1.useRef(),c=react_1.useState(""),o=c[0],u=c[1];return react_1.useEffect((function(){o&&u("");try{s.current=createObserver(e,n,t)}catch(r){u(r.message)}return function(){s.current&&(s.current.disconnect(),s.current=void 0)}}),[e]),{observer:s.current,error:o}}exports.default=useIntersectionObserver;