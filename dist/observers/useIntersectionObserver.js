"use strict";var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++)for(var s in r=arguments[t],r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s]);return e},__assign.apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0});var react_1=require("react"),defaultOptions={root:null,rootMargin:"-150px 0px -150px 0px",thresholds:[0]},handleIntersect=function(e){return function(r){r.forEach((function(r){return e&&e(r)}))}},createObserver=function(e,r,t){var n=new IntersectionObserver(handleIntersect(t),r);return e.forEach((function(e){return n.observe(e)})),n};function useIntersectionObserver(e){var r=e.elements,t=void 0===r?[]:r,n=e.options,s=e.callback,c=react_1.useRef(),o=react_1.useState(""),a=o[0],u=o[1],i=__assign(__assign({},defaultOptions),n);return react_1.useEffect((function(){if(t.length){a&&u("");try{c.current=createObserver(t,i,s)}catch(e){u(e.message)}return function(){c.current&&(c.current.disconnect(),c.current=void 0)}}}),[t]),{observer:c.current,error:a}}exports.default=useIntersectionObserver;